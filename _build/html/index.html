<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>flask-mail &mdash; Flask-Mail 0.9.1 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.9.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Flask-Mail 0.9.1 documentation" href="#" /> 
  </head>
  <body>
  
  
  <div class=indexwrapper>
  


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-flask-mail">
<span id="flask-mail"></span><h1>flask-mail<a class="headerlink" href="#module-flask-mail" title="Permalink to this headline">¶</a></h1>
<p>在 Web 应用中的一个最基本的功能就是能够给用户发送邮件。</p>
<p><strong>Flask-Mail</strong> 扩展提供了一个简单的接口，可以在 <a class="reference external" href="http://flask.pocoo.org">Flask</a> 应用中设置 SMTP 使得可以在视图以及脚本中发送邮件信息。</p>
<div class="section" id="id1">
<h2>链接<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://packages.python.org/Flask-Mail/">原版文档</a></li>
<li><a class="reference external" href="http://github.com/mattupstate/flask-mail">源代码</a></li>
<li><a class="reference internal" href="changelog.html"><em>更新历史</em></a></li>
</ul>
</div>
<div class="section" id="id4">
<h2>安装 Flask-Mail<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>使用 <strong>pip</strong> 或者 <strong>easy_install</strong> 安装 Flask-Mail:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install Flask-Mail
</pre></div>
</div>
<p>或者从版本控制系统（github）中下载最新的版本:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/mattupstate/flask-mail.git
cd flask-mail
python setup.py install
</pre></div>
</div>
<p>如果你正在使用 <strong>virtualenv</strong>，假设你会安装 flask-mail 在运行你的 Flask 应用程序的同一个 virtualenv 上。</p>
</div>
<div class="section" id="id5">
<h2>配置 Flask-Mail<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p><strong>Flask-Mail</strong> 使用标准的 Flask 配置 API 进行配置。下面这些是可用的配置型(每一个将会在文档中进行解释):</p>
<ul class="simple">
<li><strong>MAIL_SERVER</strong> : 默认为 <strong>&#8216;localhost&#8217;</strong></li>
<li><strong>MAIL_PORT</strong> : 默认为 <strong>25</strong></li>
<li><strong>MAIL_USE_TLS</strong> : 默认为 <strong>False</strong></li>
<li><strong>MAIL_USE_SSL</strong> : 默认为 <strong>False</strong></li>
<li><strong>MAIL_DEBUG</strong> : 默认为 <strong>app.debug</strong></li>
<li><strong>MAIL_USERNAME</strong> : 默认为 <strong>None</strong></li>
<li><strong>MAIL_PASSWORD</strong> : 默认为 <strong>None</strong></li>
<li><strong>MAIL_DEFAULT_SENDER</strong> : 默认为 <strong>None</strong></li>
<li><strong>MAIL_MAX_EMAILS</strong> : 默认为 <strong>None</strong></li>
<li><strong>MAIL_SUPPRESS_SEND</strong> : 默认为 <strong>app.testing</strong></li>
<li><strong>MAIL_ASCII_ATTACHMENTS</strong> : 默认为 <strong>False</strong></li>
</ul>
<p>另外，<strong>Flask-Mail</strong> 使用标准的 Flask 的 <tt class="docutils literal"><span class="pre">TESTING</span></tt> 配置项用于单元测试(下面会具体介绍)。</p>
<p>邮件是通过一个 <tt class="docutils literal"><span class="pre">Mail</span></tt> 实例进行管理:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_mail</span> <span class="kn">import</span> <span class="n">Mail</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">mail</span> <span class="o">=</span> <span class="n">Mail</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>在这个例子中所有的邮件将会使用传入到 <tt class="docutils literal"><span class="pre">Mail</span></tt> 实例中的应用程序的配置项进行发送。</p>
<p>或者你也可以在应用程序配置的时候设置你的 <tt class="docutils literal"><span class="pre">Mail</span></tt> 实例，通过使用 <strong>init_app</strong> 方法:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mail</span> <span class="o">=</span> <span class="n">Mail</span><span class="p">()</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">mail</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>在这个例子中邮件将会使用 Flask 的 <tt class="docutils literal"><span class="pre">current_app</span></tt> 中的配置项进行发送。如果你有多个具有不用配置项的多个应用运行在同一程序的时候，这种设置方式是十分有用的，</p>
</div>
<div class="section" id="id6">
<h2>发送邮件<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>为了能够发送邮件，首先需要创建一个 <tt class="docutils literal"><span class="pre">Message</span></tt> 实例:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask_mail</span> <span class="kn">import</span> <span class="n">Message</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span>
                  <span class="n">sender</span><span class="o">=</span><span class="s">&quot;from@example.com&quot;</span><span class="p">,</span>
                  <span class="n">recipients</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;to@example.com&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>你能够设置一个或者多个收件人:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">msg</span><span class="o">.</span><span class="n">recipients</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;you@example.com&quot;</span><span class="p">]</span>
<span class="n">msg</span><span class="o">.</span><span class="n">add_recipient</span><span class="p">(</span><span class="s">&quot;somebodyelse@example.com&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>如果你设置了 <tt class="docutils literal"><span class="pre">MAIL_DEFAULT_SENDER</span></tt>，就不必再次填写发件人，默认情况下将会使用配置项的发件人:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">msg</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span>
              <span class="n">recipients</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;to@example.com&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>如果 <tt class="docutils literal"><span class="pre">sender</span></tt> 是一个二元组，它将会被分成姓名和邮件地址:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">msg</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span>
              <span class="n">sender</span><span class="o">=</span><span class="p">(</span><span class="s">&quot;Me&quot;</span><span class="p">,</span> <span class="s">&quot;me@example.com&quot;</span><span class="p">))</span>

<span class="k">assert</span> <span class="n">msg</span><span class="o">.</span><span class="n">sender</span> <span class="o">==</span> <span class="s">&quot;Me &lt;me@example.com&gt;&quot;</span>
</pre></div>
</div>
<p>邮件内容可以包含主体以及/或者 HTML:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">msg</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="s">&quot;testing&quot;</span>
<span class="n">msg</span><span class="o">.</span><span class="n">html</span> <span class="o">=</span> <span class="s">&quot;&lt;b&gt;testing&lt;/b&gt;&quot;</span>
</pre></div>
</div>
<p>最后，发送邮件的时候请使用 Flask 应用设置的 <tt class="docutils literal"><span class="pre">Mail</span></tt> 实例:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mail</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>大量邮件<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>通常在一个 Web 应用中每一个请求会同时发送一封或者两封邮件。在某些特定的场景下，有可能会发送数十或者数百封邮件，不过这种发送工作会给交离线任务或者脚本执行。</p>
<p>在这种情况下发送邮件的代码会有些不同:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">mail</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="p">:</span>
        <span class="n">message</span> <span class="o">=</span> <span class="s">&#39;...&#39;</span>
        <span class="n">subject</span> <span class="o">=</span> <span class="s">&quot;hello, </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">Message</span><span class="p">(</span><span class="n">recipients</span><span class="o">=</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="p">],</span>
                      <span class="n">body</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
                      <span class="n">subject</span><span class="o">=</span><span class="n">subject</span><span class="p">)</span>

        <span class="n">conn</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
<p>与电子邮件服务器的连接会一直保持活动状态直到所有的邮件都已经发送完成后才会关闭（断开）。</p>
<p>有些邮件服务器会限制一次连接中的发送邮件的上限。你可以设置重连前的发送邮件的最大数，通过配置 <strong>MAIL_MAX_EMAILS</strong> 。</p>
</div>
<div class="section" id="id8">
<h2>附件<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>在邮件中添加附件同样非常简单:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="s">&quot;image.png&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">msg</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s">&quot;image.png&quot;</span><span class="p">,</span> <span class="s">&quot;image/png&quot;</span><span class="p">,</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<p>具体细节请参看 <a class="reference internal" href="#api">API</a> 。</p>
<p>如果 <tt class="docutils literal"><span class="pre">MAIL_ASCII_ATTACHMENTS</span></tt> 设置成 <strong>True</strong> 的话，文件名将会转换成 ASCII 的。
当文件名是以 UTF-8 编码的时候，使用邮件转发的时候会修改邮件内容并且混淆 Content-Disposition 描述，这个时候 <tt class="docutils literal"><span class="pre">MAIL_ASCII_ATTACHMENTS</span></tt> 配置项是十分有用的。转换成 ASCII 的基本方式就是对 non-ASCII 字符的去除。任何一个 unicode 字符能够被 NFKD 分解成一个或者多个 ASCII 字符。</p>
</div>
<div class="section" id="id9">
<h2>单元测试以及禁止发送邮件<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>当在单元测试中，或者在一个开发环境中，能够禁止邮件发送是十分有用的。</p>
<p>如果设置项 <tt class="docutils literal"><span class="pre">TESTING</span></tt> 设置成 <tt class="docutils literal"><span class="pre">True</span></tt>，emails 将会被禁止发送。调用 <tt class="docutils literal"><span class="pre">send()</span></tt> 发送邮件实际上不会有任何邮件被发送。</p>
<p>另外在测试环境之中的话，你可以设置 <tt class="docutils literal"><span class="pre">MAIL_SUPPRESS_SEND</span></tt> 为 <strong>True</strong>，这也会有相同的效果。</p>
<p>然而，当单元测试的时候追踪邮件是否发送成功也是十分有用的。</p>
<p>为了能够追踪发送邮件的“轨迹”，可以使用 <tt class="docutils literal"><span class="pre">record_messages</span></tt> 方法:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">mail</span><span class="o">.</span><span class="n">record_messages</span><span class="p">()</span> <span class="k">as</span> <span class="n">outbox</span><span class="p">:</span>

    <span class="n">mail</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="s">&#39;testing&#39;</span><span class="p">,</span>
                      <span class="n">body</span><span class="o">=</span><span class="s">&#39;test&#39;</span><span class="p">,</span>
                      <span class="n">recipients</span><span class="o">=</span><span class="n">emails</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">outbox</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">outbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">subject</span> <span class="o">==</span> <span class="s">&quot;testing&quot;</span>
</pre></div>
</div>
<p><strong>outbox</strong> 是一个 发送 <tt class="docutils literal"><span class="pre">Message</span></tt> 实例的列表。</p>
<p>为了使得上述代码能够正常运行，必须安装 blinker 包。</p>
<p>需要注意的是以前的处理方式，即把 <strong>outbox</strong> 赋予给 <tt class="docutils literal"><span class="pre">g</span></tt> 对象已经过时。</p>
</div>
<div class="section" id="id10">
<h2>头注入<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>为了防止 <a class="reference external" href="http://www.nyphp.org/PHundamentals/8_Preventing-Email-Header-Injection">header injection</a>，尝试着在邮件主题、发件人或者收件人中使用换行符将会抛出 <tt class="docutils literal"><span class="pre">BadHeaderError</span></tt> 异常。</p>
</div>
<div class="section" id="id11">
<h2>信号量<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.4.</span></p>
</div>
<p><strong>Flask-Mail</strong> 现在通过 <tt class="docutils literal"><span class="pre">email_dispatched</span></tt> 信号开始支持信号量。只要邮件被调度，信号就会发送(即使邮件没有真正的发送，例如，在测试环境中)。</p>
<p>订阅 <tt class="docutils literal"><span class="pre">email_dispatched</span></tt> 信号的函数使用 <tt class="docutils literal"><span class="pre">Message</span></tt> 实例作为第一参数，Flask app 实例作为一个可选的参数:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">log_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">subject</span><span class="p">)</span>

<span class="n">email_dispatched</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">log_message</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="module-flask_mail">
<span id="api"></span><h2>API<a class="headerlink" href="#module-flask_mail" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask_mail.Mail">
<em class="property">class </em><tt class="descclassname">flask_mail.</tt><tt class="descname">Mail</tt><big>(</big><em>app=None</em><big>)</big><a class="headerlink" href="#flask_mail.Mail" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages email messaging</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app</strong> &#8211; Flask instance</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="flask_mail.Mail.connect">
<tt class="descname">connect</tt><big>(</big><big>)</big><a class="headerlink" href="#flask_mail.Mail.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a connection to the mail host.</p>
</dd></dl>

<dl class="method">
<dt id="flask_mail.Mail.send">
<tt class="descname">send</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#flask_mail.Mail.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a single message instance. If TESTING is True the message will
not actually be sent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> &#8211; a Message instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flask_mail.Mail.send_message">
<tt class="descname">send_message</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#flask_mail.Mail.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for send(msg).</p>
<p>Takes same arguments as Message constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Versionadded:</th><td class="field-body">0.3.5</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask_mail.Attachment">
<em class="property">class </em><tt class="descclassname">flask_mail.</tt><tt class="descname">Attachment</tt><big>(</big><em>filename=None</em>, <em>content_type=None</em>, <em>data=None</em>, <em>disposition=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#flask_mail.Attachment" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulates file attachment information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Versionadded:</th><td class="field-body"><p class="first">0.3.5</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; filename of attachment</li>
<li><strong>content_type</strong> &#8211; file mimetype</li>
<li><strong>data</strong> &#8211; the raw file data</li>
<li><strong>disposition</strong> &#8211; content-disposition (if any)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="flask_mail.Connection">
<em class="property">class </em><tt class="descclassname">flask_mail.</tt><tt class="descname">Connection</tt><big>(</big><em>mail</em><big>)</big><a class="headerlink" href="#flask_mail.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles connection to host.</p>
<dl class="method">
<dt id="flask_mail.Connection.send">
<tt class="descname">send</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#flask_mail.Connection.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies and sends message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> &#8211; Message instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flask_mail.Connection.send_message">
<tt class="descname">send_message</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#flask_mail.Connection.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for send(msg).</p>
<p>Takes same arguments as Message constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Versionadded:</th><td class="field-body">0.3.5</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask_mail.Message">
<em class="property">class </em><tt class="descclassname">flask_mail.</tt><tt class="descname">Message</tt><big>(</big><em>subject=None</em>, <em>recipients=None</em>, <em>body=None</em>, <em>html=None</em>, <em>sender=None</em>, <em>cc=None</em>, <em>bcc=None</em>, <em>attachments=None</em>, <em>reply_to=None</em>, <em>date=None</em>, <em>charset=None</em>, <em>extra_headers=None</em><big>)</big><a class="headerlink" href="#flask_mail.Message" title="Permalink to this definition">¶</a></dt>
<dd><p>Encapsulates an email message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>subject</strong> &#8211; email subject header</li>
<li><strong>recipients</strong> &#8211; list of email addresses</li>
<li><strong>body</strong> &#8211; plain text message</li>
<li><strong>html</strong> &#8211; HTML message</li>
<li><strong>sender</strong> &#8211; email sender address, or <strong>MAIL_DEFAULT_SENDER</strong> by default</li>
<li><strong>cc</strong> &#8211; CC list</li>
<li><strong>bcc</strong> &#8211; BCC list</li>
<li><strong>attachments</strong> &#8211; list of Attachment instances</li>
<li><strong>reply_to</strong> &#8211; reply-to address</li>
<li><strong>date</strong> &#8211; send date</li>
<li><strong>charset</strong> &#8211; message character set</li>
<li><strong>extra_headers</strong> &#8211; A dictionary of additional headers for the message</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="flask_mail.Message.add_recipient">
<tt class="descname">add_recipient</tt><big>(</big><em>recipient</em><big>)</big><a class="headerlink" href="#flask_mail.Message.add_recipient" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds another recipient to the message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>recipient</strong> &#8211; email address of recipient.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flask_mail.Message.attach">
<tt class="descname">attach</tt><big>(</big><em>filename=None</em>, <em>content_type=None</em>, <em>data=None</em>, <em>disposition=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#flask_mail.Message.attach" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an attachment to the message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; filename of attachment</li>
<li><strong>content_type</strong> &#8211; file mimetype</li>
<li><strong>data</strong> &#8211; the raw file data</li>
<li><strong>disposition</strong> &#8211; content-disposition (if any)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  

  
  </div>
  

  </body>
</html>